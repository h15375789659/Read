# 已知问题记录

## 问题1：Vue/React动态网站无法解析

### 问题描述
使用Vue、React等前端框架的小说网站，章节内容无法解析，显示为空。

### 受影响的网站示例
- https://www.22biqu.com/biqu15709/
- https://www.biquge345.com/book/1991/
- https://www.kuaishu5.com/b24487/

### 原因分析
- 当前使用Jsoup进行HTML解析，Jsoup只能解析静态HTML
- Vue/React网站的内容通过JavaScript动态加载
- Jsoup不执行JavaScript，因此获取到的HTML是空的容器

### 解决方案（待实现）

#### 方案：WebView渲染
使用Android WebView加载页面，等待JavaScript执行完成后再提取HTML内容。

**实现思路：**
1. 创建隐藏的WebView加载章节页面
2. 等待页面渲染完成（监听加载事件或设置延时）
3. 通过JavaScript获取渲染后的HTML
4. 将HTML传给现有的Jsoup解析逻辑

**优点：**
- 兼容所有动态网站
- 复用现有HTML解析逻辑
- 实现相对简单

**缺点：**
- 下载速度变慢（每章约2-3秒，静态网站约0.5秒）
- 内存占用略增加（临时，解析完成后释放）

**对现有功能的影响：**
- 阅读已下载的小说：无影响
- 静态网站解析：无影响（继续使用Jsoup）
- 动态网站解析：从"不可用"变为"可用但较慢"

**实现难度：** 中等（约150行代码，1-2小时）

### 临时解决方案
使用静态HTML的小说网站，如：
- https://tianyashuku.net/wangluoxiaoshuo/wudongqiankun/

---

## 问题2：分页章节列表无法完整获取

### 问题描述
部分网站的章节列表是分页显示的，只能获取当前页的章节。

### 受影响的网站示例
- https://www.kuaishu5.com/b24487/ （显示"第1-200章"下拉框）

### 原因分析
- 网站使用分页或下拉框展示章节
- 当前只解析首页HTML中的章节链接
- 其他页的章节需要翻页或切换下拉框才能获取

### 解决方案（待实现）
需要配合WebView方案，模拟用户操作获取所有分页内容。

**实现难度：** 较难（约200行代码，2小时）

### 临时解决方案
手动在网站上切换分页，分批下载章节。

---

## 更新记录
- 2024-12-25：记录Vue动态网站解析问题和分页章节问题
